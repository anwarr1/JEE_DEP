<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <h:outputStylesheet library="webjars" name="bootstrap/5.3.2/css/bootstrap.min.css"/>
    <h:outputScript library="webjars" name="bootstrap/5.3.2/js/bootstrap.min.js"/>
</h:head>
<f:view>
    <h:outputLabel value="Employee Affectation"/>

    <h:form>

        <h:commandLink action="home.xhtml">Back to Home</h:commandLink>
    </h:form>
    <h:form>
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <h:outputLabel value="Employee:" styleClass="col-form-label"/>
                    <h:selectOneMenu value="#{Employe.employeAffected}" styleClass="form-control">
                        <f:selectItems value="#{Employe.employes}" var="employe" itemValue="#{employe.id}"
                                       itemLabel="#{employe.name}"/>
                    </h:selectOneMenu>
                </div>
            </div>
        </div>
        <div class="row">


            <div class="col-md-4">
                <div class="form-group">
                    <h:outputLabel value="Implication:" styleClass="col-form-label"/>
                    <h:selectOneMenu value="#{Employe.implicationAffected}" styleClass="form-control">
                        <f:selectItems value="#{Project.implications}" var="implication" itemValue="#{implication}"
                                       itemLabel="#{implication}"/>
                    </h:selectOneMenu>
                </div>
            </div>
        </div>
        <div class="row">

            <div class="col-md-4">
                <div class="form-group">
                    <h:outputLabel value="Projects:" styleClass="col-form-label"/>
                    <h:selectManyCheckbox id="ski" value="#{Employe.projectsAffected}" layout="pageDirection"
                                          styleClass="form-control">
                        <f:selectItems value="#{Project.projects}" var="project" itemValue="#{project}"
                                       itemLabel="#{project.name}"/>
                    </h:selectManyCheckbox>
                </div>
            </div>
        </div>

        <div class="form-group text-center">
            <h:commandButton styleClass="btn btn-primary" value="Affecter Projet" action="#{Employe.affect}"/>
        </div>
    </h:form>
    <h:panelGroup rendered="#{not Employe.emptyM}">

        <h:outputText value="#{Employe.message}" style="margin-top: 200px" styleClass="alert alert-danger"
                      rendered="#{not Employe.emptyM}"/>
    </h:panelGroup>

</f:view>
</html>
